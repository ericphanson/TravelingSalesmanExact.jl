<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · TravelingSalesmanExact.jl</title><script data-outdated-warner src="assets/warner.js"></script><link rel="canonical" href="https://ericphanson.github.io/TravelingSalesmanExact.jl/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/asciinema-player/2.6.1/asciinema-player.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/asciinema-player/2.6.1/asciinema-player.min.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>TravelingSalesmanExact.jl</a></span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li><a class="tocitem" href="#Example"><span>Example</span></a></li><li><a class="tocitem" href="#API-Reference"><span>API Reference</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/ericphanson/TravelingSalesmanExact.jl/blob/master/docs/src/index.md#L" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="TravelingSalesmanExact.jl"><a class="docs-heading-anchor" href="#TravelingSalesmanExact.jl">TravelingSalesmanExact.jl</a><a id="TravelingSalesmanExact.jl-1"></a><a class="docs-heading-anchor-permalink" href="#TravelingSalesmanExact.jl" title="Permalink"></a></h1><ul><li><a href="#TravelingSalesmanExact.ATT-Tuple{Any, Any}"><code>TravelingSalesmanExact.ATT</code></a></li><li><a href="#TravelingSalesmanExact.euclidean_distance-Tuple{Any, Any}"><code>TravelingSalesmanExact.euclidean_distance</code></a></li><li><a href="#TravelingSalesmanExact.find_cycle"><code>TravelingSalesmanExact.find_cycle</code></a></li><li><a href="#TravelingSalesmanExact.get_ATT48_cities-Tuple{}"><code>TravelingSalesmanExact.get_ATT48_cities</code></a></li><li><a href="#TravelingSalesmanExact.get_cycles-Tuple{Any}"><code>TravelingSalesmanExact.get_cycles</code></a></li><li><a href="#TravelingSalesmanExact.get_default_optimizer-Tuple{}"><code>TravelingSalesmanExact.get_default_optimizer</code></a></li><li><a href="#TravelingSalesmanExact.get_optimal_tour"><code>TravelingSalesmanExact.get_optimal_tour</code></a></li><li><a href="#TravelingSalesmanExact.plot_cities-Tuple{Any}"><code>TravelingSalesmanExact.plot_cities</code></a></li><li><a href="#TravelingSalesmanExact.plot_tour-Tuple{Any, Any}"><code>TravelingSalesmanExact.plot_tour</code></a></li><li><a href="#TravelingSalesmanExact.remove_cycles!-Tuple{Any, Any}"><code>TravelingSalesmanExact.remove_cycles!</code></a></li><li><a href="#TravelingSalesmanExact.set_default_optimizer!-Tuple{Any}"><code>TravelingSalesmanExact.set_default_optimizer!</code></a></li><li><a href="#TravelingSalesmanExact.simple_parse_tsp-Tuple{Any}"><code>TravelingSalesmanExact.simple_parse_tsp</code></a></li></ul><h2 id="Example"><a class="docs-heading-anchor" href="#Example">Example</a><a id="Example-1"></a><a class="docs-heading-anchor-permalink" href="#Example" title="Permalink"></a></h2><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; using TravelingSalesmanExact, GLPK</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; set_default_optimizer!(GLPK.Optimizer)</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; cities = TravelingSalesmanExact.get_ATT48_cities();</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; distance = TravelingSalesmanExact.ATT;</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; tour, cost = get_optimal_tour(cities; distance, verbose=true, slow=true)</code></pre><asciinema-player src="./assets/casts/9948216d-447e-4129-bf33-8fb7cee2469e.cast" idle-time-limit="1" autoplay="true" start-at="0.3"></asciinema-player ><h2 id="API-Reference"><a class="docs-heading-anchor" href="#API-Reference">API Reference</a><a id="API-Reference-1"></a><a class="docs-heading-anchor-permalink" href="#API-Reference" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="TravelingSalesmanExact.ATT-Tuple{Any, Any}" href="#TravelingSalesmanExact.ATT-Tuple{Any, Any}"><code>TravelingSalesmanExact.ATT</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ATT(city1, city2)</code></pre><p>The <code>ATT</code> distance measure as specified in TSPLIB: <a href="http://comopt.ifi.uni-heidelberg.de/software/TSPLIB95/tsp95.pdf">http://comopt.ifi.uni-heidelberg.de/software/TSPLIB95/tsp95.pdf</a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ericphanson/TravelingSalesmanExact.jl/blob/01cc8938032140d529497f922bfd0f423fd45bc5/src/TravelingSalesmanExact.jl#LL136-L141">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TravelingSalesmanExact.euclidean_distance-Tuple{Any, Any}" href="#TravelingSalesmanExact.euclidean_distance-Tuple{Any, Any}"><code>TravelingSalesmanExact.euclidean_distance</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">euclidean_distance(city1, city2)</code></pre><p>The usual Euclidean distance measure.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ericphanson/TravelingSalesmanExact.jl/blob/01cc8938032140d529497f922bfd0f423fd45bc5/src/TravelingSalesmanExact.jl#LL129-L133">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TravelingSalesmanExact.find_cycle" href="#TravelingSalesmanExact.find_cycle"><code>TravelingSalesmanExact.find_cycle</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">find_cycle(perm_matrix, starting_ind)</code></pre><p>Returns the cycle in the permutation described by <code>perm_matrix</code> which includes <code>starting_ind</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ericphanson/TravelingSalesmanExact.jl/blob/01cc8938032140d529497f922bfd0f423fd45bc5/src/TravelingSalesmanExact.jl#LL58-L63">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TravelingSalesmanExact.get_ATT48_cities-Tuple{}" href="#TravelingSalesmanExact.get_ATT48_cities-Tuple{}"><code>TravelingSalesmanExact.get_ATT48_cities</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_ATT48_cities() -&gt; Vector{Vector{Int}}</code></pre><p>A simple helper function to get the problem data for the ATT48 TSPLIB problem.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; using TravelingSalesmanExact, GLPK

julia&gt; cities = TravelingSalesmanExact.get_ATT48_cities()
48-element Vector{Vector{Float64}}:
 [6734.0, 1453.0]
 [2233.0, 10.0]
 [5530.0, 1424.0]
 [401.0, 841.0]
 [3082.0, 1644.0]
 [7608.0, 4458.0]
 [7573.0, 3716.0]
 [7265.0, 1268.0]
 [6898.0, 1885.0]
 [1112.0, 2049.0]
 ⋮
 [6271.0, 2135.0]
 [4985.0, 140.0]
 [1916.0, 1569.0]
 [7280.0, 4899.0]
 [7509.0, 3239.0]
 [10.0, 2676.0]
 [6807.0, 2993.0]
 [5185.0, 3258.0]
 [3023.0, 1942.0]

julia&gt; get_optimal_tour(cities, GLPK.Optimizer, distance = TravelingSalesmanExact.ATT)
([5, 42, 24, 10, 45, 35, 4, 26, 2, 29  …  30, 36, 46, 33, 20, 47, 21, 32, 39, 48], 10628.0)
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ericphanson/TravelingSalesmanExact.jl/blob/01cc8938032140d529497f922bfd0f423fd45bc5/src/TravelingSalesmanExact.jl#LL460-L497">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TravelingSalesmanExact.get_cycles-Tuple{Any}" href="#TravelingSalesmanExact.get_cycles-Tuple{Any}"><code>TravelingSalesmanExact.get_cycles</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_cycles(perm_matrix)</code></pre><p>Returns a list of cycles from the permutation described by <code>perm_matrix</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ericphanson/TravelingSalesmanExact.jl/blob/01cc8938032140d529497f922bfd0f423fd45bc5/src/TravelingSalesmanExact.jl#LL83-L87">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TravelingSalesmanExact.get_default_optimizer-Tuple{}" href="#TravelingSalesmanExact.get_default_optimizer-Tuple{}"><code>TravelingSalesmanExact.get_default_optimizer</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_default_optimizer()</code></pre><p>Gets the default optimizer, which is set by <code>set_default_optimizer</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ericphanson/TravelingSalesmanExact.jl/blob/01cc8938032140d529497f922bfd0f423fd45bc5/src/TravelingSalesmanExact.jl#LL37-L41">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TravelingSalesmanExact.get_optimal_tour" href="#TravelingSalesmanExact.get_optimal_tour"><code>TravelingSalesmanExact.get_optimal_tour</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">get_optimal_tour(
    cities::AbstractVector,
    optimizer = get_default_optimizer();
    distance = euclidean_distance,
    kwargs...
)

get_optimal_tour(
    cost::AbstractMatrix
    optimizer = get_default_optimizer();
    kwargs...
)</code></pre><p>Solves the travelling salesman problem for a list of cities using JuMP by formulating a MILP using the Dantzig-Fulkerson-Johnson formulation and adaptively adding constraints to disallow non-maximal cycles. Returns an optimal tour and the cost of the optimal path. Optionally specify a distance metric. </p><p>The second argument is mandatory if a default optimizer has not been set (via <code>set_default_optimizer</code>). This argument should be a function which creates an optimizer, e.g.</p><pre><code class="nohighlight hljs">get_optimal_tour(cities, GLPK.Optimizer)</code></pre><p>There are five boolean optional keyword arguments:</p><ul><li><code>verbose</code> (default: false) indicates whether or not to print lots of information as the algorithm proceeds.</li><li><code>symmetric</code> indicates whether or not the cost matrix is symmetric. By default, <code>issymmetric</code> is used to check.</li><li><code>lazy_constraints</code> indicates whether lazy constraints should be used (which requires a <a href="https://www.juliaopt.org/JuMP.jl/v0.21/callbacks/#Available-solvers-1">compatible solver</a>).</li><li><code>slow</code> artifically sleeps after each solve to slow down the output for visualization purposes. Only takes affect if <code>verbose==true</code>.</li><li><code>silent_optimizer</code> calls <code>JuMP.set_silent</code> on the resulting model to prevent the optimizer from emitting logging information.</li></ul><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; using TravelingSalesmanExact, GLPK, LinearAlgebra

julia&gt; set_default_optimizer!(GLPK.Optimizer)
GLPK.Optimizer

julia&gt; cities = [[0, 0], [0, 1], [1, 1], [1, 0]]
4-element Vector{Vector{Int64}}:
 [0, 0]
 [0, 1]
 [1, 1]
 [1, 0]

julia&gt; tour, cost = get_optimal_tour(cities)
([4, 1, 2, 3], 4.0)

julia&gt; cost_matrix = [norm(cities[i] - cities[j]) for i = 1:4, j = 1:4]
4×4 Matrix{Float64}:
 0.0      1.0      1.41421  1.0
 1.0      0.0      1.0      1.41421
 1.41421  1.0      0.0      1.0
 1.0      1.41421  1.0      0.0

julia&gt; tour, cost = get_optimal_tour(cost_matrix)
([4, 1, 2, 3], 4.0)
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ericphanson/TravelingSalesmanExact.jl/blob/01cc8938032140d529497f922bfd0f423fd45bc5/src/TravelingSalesmanExact.jl#LL155-L217">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TravelingSalesmanExact.plot_cities-Tuple{Any}" href="#TravelingSalesmanExact.plot_cities-Tuple{Any}"><code>TravelingSalesmanExact.plot_cities</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">plot_cities(cities)</code></pre><p>Uses <code>UnicodePlots</code>&#39;s <code>lineplot</code> to make a plot of the tour of the cities in <code>cities</code>, in order (including going from the last city back to the first).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ericphanson/TravelingSalesmanExact.jl/blob/01cc8938032140d529497f922bfd0f423fd45bc5/src/TravelingSalesmanExact.jl#LL47-L52">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TravelingSalesmanExact.plot_tour-Tuple{Any, Any}" href="#TravelingSalesmanExact.plot_tour-Tuple{Any, Any}"><code>TravelingSalesmanExact.plot_tour</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">show_tour(cities, perm_matrix)</code></pre><p>Show a plot of the tour described by <code>perm_matrix</code> of the cities in the vector <code>cities</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ericphanson/TravelingSalesmanExact.jl/blob/01cc8938032140d529497f922bfd0f423fd45bc5/src/TravelingSalesmanExact.jl#LL100-L104">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TravelingSalesmanExact.remove_cycles!-Tuple{Any, Any}" href="#TravelingSalesmanExact.remove_cycles!-Tuple{Any, Any}"><code>TravelingSalesmanExact.remove_cycles!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">remove_cycles!(model, tour_matrix)</code></pre><p>Find the (non-maximal-length) cycles in the current solution <code>tour_matrix</code> and add constraints to the JuMP model to disallow them. Returns the number of cycles found.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ericphanson/TravelingSalesmanExact.jl/blob/01cc8938032140d529497f922bfd0f423fd45bc5/src/TravelingSalesmanExact.jl#LL111-L117">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TravelingSalesmanExact.set_default_optimizer!-Tuple{Any}" href="#TravelingSalesmanExact.set_default_optimizer!-Tuple{Any}"><code>TravelingSalesmanExact.set_default_optimizer!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">set_default_optimizer(O)</code></pre><p>Sets the default optimizer. For example,</p><pre><code class="nohighlight hljs">using GLPK
set_default_optimizer(GLPK.Optimizer)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ericphanson/TravelingSalesmanExact.jl/blob/01cc8938032140d529497f922bfd0f423fd45bc5/src/TravelingSalesmanExact.jl#LL27-L34">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TravelingSalesmanExact.simple_parse_tsp-Tuple{Any}" href="#TravelingSalesmanExact.simple_parse_tsp-Tuple{Any}"><code>TravelingSalesmanExact.simple_parse_tsp</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">simple_parse_tsp(filename; verbose = true)</code></pre><p>Try to parse the &quot;.tsp&quot; file given by <code>filename</code>. Very simple implementation just to be able to test the optimization; may break on other files. Returns a list of cities for use in <code>get_optimal_tour</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ericphanson/TravelingSalesmanExact.jl/blob/01cc8938032140d529497f922bfd0f423fd45bc5/src/TravelingSalesmanExact.jl#LL428-L434">source</a></section></article></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.10 on <span class="colophon-date" title="Thursday 11 November 2021 00:18">Thursday 11 November 2021</span>. Using Julia version 1.6.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
